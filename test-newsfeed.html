<!DOCTYPE html>
<html>
<head>
    <title>NewsFeed Test</title>
    <script>
        // Test the API endpoint
        console.log('Testing API endpoint...');
        
        fetch('https://website-project-ai-production.up.railway.app/api/global-news')
            .then(r => r.json())
            .then(data => {
                console.log('âœ… API Response:', data);
                console.log('ğŸ“Š Total articles:', data.totalArticles);
                console.log('ğŸŒ Countries:', Object.keys(data.countries || {}));
                console.log('ğŸ“° Global articles:', data.global?.length || 0);
            })
            .catch(error => {
                console.error('âŒ API Error:', error);
            });

        // Test environment detection
        console.log('ğŸ” Environment check:');
        console.log('PROD mode:', window.location.protocol === 'https:');
        console.log('Hostname:', window.location.hostname);
        
        // Test API base URL logic
        const getApiBase = () => {
            if (window.location.protocol === 'https:' && window.location.hostname !== 'localhost') {
                return "https://website-project-ai-production.up.railway.app";
            }
            return window.location.origin;
        };
        
        console.log('ğŸŒ API Base URL:', getApiBase());
    </script>
</head>
<body>
    <h1>NewsFeed Component Test</h1>
    <p>Check browser console for test results</p>
    <p>âœ… Fixed Issues:</p>
    <ul>
        <li>âŒ Missing axios import â†’ âœ… Using fetch instead</li>
        <li>âŒ Complex error handling â†’ âœ… Simplified try/catch</li>
        <li>âŒ Inconsistent data access â†’ âœ… Safe optional chaining</li>
        <li>âŒ API_BASE issues â†’ âœ… Dynamic URL generation</li>
        <li>âŒ Missing CSS classes â†’ âœ… Added ai-coverage-card, badge-ai</li>
        <li>âŒ No error display â†’ âœ… Proper error states</li>
    </ul>
</body>
</html>